<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>

   <extension
         point="org.eclipse.ui.editors">
      <editor
            class="isabelle.eclipse.editors.TheoryEditor"
            contributorClass="org.eclipse.ui.texteditor.BasicTextEditorActionContributor"
            extensions="thy"
            icon="icons/isabelle.png"
            id="isabelle.eclipse.editors.TheoryEditor"
            name="Isabelle/Isar Theory Editor"
            symbolicFontName="isabelle.eclipse.isabelleFont">
      </editor>
   </extension>
   <extension
         point="org.eclipse.ui.console.consoleFactories">
      <consoleFactory
            class="isabelle.eclipse.views.RawOutputConsoleFactory"
            icon="icons/isabelle.png"
            label="Isabelle Raw Output">
      </consoleFactory>
   </extension>
   <extension
         point="org.eclipse.ui.console.consolePageParticipants">
      <consolePageParticipant
            class="isabelle.eclipse.views.RawOutputConsoleParticipant"
            id="isabelle.eclipse.rawOutputConsoleParticipant">
         <enablement>
            <instanceof
                  value="org.eclipse.ui.console.MessageConsole">
            </instanceof></enablement>
      </consolePageParticipant>
   </extension>
   <extension
         point="org.eclipse.ui.views">
      <view
            allowMultiple="true"
            class="isabelle.eclipse.views.ProverOutputView"
            icon="icons/isabelle.png"
            id="isabelle.eclipse.proverOutputView"
            name="Prover Output"
            restorable="true">
      </view>
   </extension>
   <extension
         point="org.eclipse.ui.themes">
      <fontDefinition
            id="isabelle.eclipse.isabelleFont"
            label="IsabelleText"
            value="IsabelleText-regular-12">
      </fontDefinition>
   </extension>
   <extension
         id="markerProblem"
         name="Isabelle Proof Problem"
         point="org.eclipse.core.resources.markers">
      <super
            type="org.eclipse.core.resources.problemmarker">
      </super>
      <super
            type="org.eclipse.core.resources.textmarker">
      </super>
      <persistent
            value="false">
      </persistent>
   </extension>
   <extension
         id="markerLegacy"
         name="Legacy Warning"
         point="org.eclipse.core.resources.markers">
      <super
            type="isabelle.eclipse.markerProblem">
      </super>
   </extension>
   <extension
         id="markerInfo"
         name="Isabelle Proof Info"
         point="org.eclipse.core.resources.markers">
      <super
            type="org.eclipse.core.resources.textmarker">
      </super>
      <persistent
            value="false">
      </persistent>
   </extension>
   <extension
         point="org.eclipse.ui.workbench.texteditor.quickDiffReferenceProvider">
      <referenceprovider
            class="isabelle.eclipse.editors.IsabelleQuickDiffReference"
            id="isabelle.eclipse.referenceprovider1"
            label="Isabelle Formatted Version on Disk">
      </referenceprovider>
   </extension>
   <extension
         point="org.eclipse.ui.editors.markerAnnotationSpecification">
      <specification
            annotationType="isabelle.eclipse.editor.legacy"
            icon="icons/legacy.gif"
            textPreferenceKey="legacyIndication"
            presentationLayer="5"
            showInNextPrevDropdownToolbarAction="true"
            textPreferenceValue="true"
            label="Legacy Warnings"
            colorPreferenceKey="legacyIndicationColor"
            showInNextPrevDropdownToolbarActionKey="showLegacyInNextPrevDropdownToolbarAction"
            quickFixIcon="$nl$/icons/full/obj16/quick_fix_warning_obj.gif"
            isGoToNextNavigationTargetKey="isLegacyGoToNextNavigationTarget"
            isGoToNextNavigationTarget="true"
            isGoToPreviousNavigationTargetKey="isLegacyGoToPreviousNavigationTarget"
            isGoToPreviousNavigationTarget="true"
            textStylePreferenceKey="legacyTextStyle"
			textStylePreferenceValue="PROBLEM_UNDERLINE"             
            overviewRulerPreferenceKey="legacyIndicationInOverviewRuler"
            overviewRulerPreferenceValue="true"
            verticalRulerPreferenceKey="legacyIndicationInVerticalRuler"
            verticalRulerPreferenceValue="true"
            highlightPreferenceKey="legacyIndicationHighlighting"
            highlightPreferenceValue="false"
            contributesToHeader="true"
            colorPreferenceValue="244,200,45">
      </specification>
      <specification
            annotationType="isabelle.eclipse.editor.markup.bad"
            colorPreferenceKey="markupBadColor"
            colorPreferenceValue="255,204,204"
            highlightPreferenceKey="markupBadHighlighting"
            highlightPreferenceValue="true"
            includeOnPreferencePage="true"
            label="Isabelle Bad Markup"
            overviewRulerPreferenceKey="markupBadInOverviewRuler"
            overviewRulerPreferenceValue="true"
            presentationLayer="2"
            textPreferenceKey="markupBadIndication"
            textPreferenceValue="false"
            textStylePreferenceKey="markupBadTextStyle"
            textStylePreferenceValue="NONE"
            verticalRulerPreferenceKey="markupBadInVerticalRuler"
            verticalRulerPreferenceValue="false">
      </specification>
      <specification
            annotationType="isabelle.eclipse.editor.markup.hilite"
            colorPreferenceKey="markupHiliteColor"
            colorPreferenceValue="255,235,194"
            highlightPreferenceKey="markupHiliteHighlighting"
            highlightPreferenceValue="true"
            includeOnPreferencePage="true"
            label="Isabelle Highlight Markup"
            overviewRulerPreferenceKey="markupHiliteInOverviewRuler"
            overviewRulerPreferenceValue="true"
            presentationLayer="2"
            textPreferenceKey="markupHiliteIndication"
            textPreferenceValue="false"
            textStylePreferenceKey="markupHiliteTextStyle"
            textStylePreferenceValue="NONE"
            verticalRulerPreferenceKey="markupHiliteInVerticalRuler"
            verticalRulerPreferenceValue="false">
      </specification>
      <specification
            annotationType="isabelle.eclipse.editor.markup.token"
            colorPreferenceKey="markupTokenColor"
            colorPreferenceValue="240,240,240"
            highlightPreferenceKey="markupTokenHighlighting"
            highlightPreferenceValue="false"
            includeOnPreferencePage="true"
            label="Isabelle Inner Syntax"
            overviewRulerPreferenceKey="markupTokenInOverviewRuler"
            overviewRulerPreferenceValue="true"
            presentationLayer="3"
            textPreferenceKey="markupTokenIndication"
            textPreferenceValue="true"
            textStylePreferenceKey="markupTokenTextStyle"
            textStylePreferenceValue="SQUIGGLES"
            verticalRulerPreferenceKey="markupTokenInVerticalRuler"
            verticalRulerPreferenceValue="false">
      </specification>
      <specification
            annotationType="isabelle.eclipse.editor.commandStatus.outdated"
            colorPreferenceKey="commandOutdatedColor"
            colorPreferenceValue="240,240,240"
            highlightPreferenceKey="commandOutdatedHighlighting"
            highlightPreferenceValue="true"
            includeOnPreferencePage="true"
            label="Isabelle Outdated Command"
            overviewRulerPreferenceKey="commandOutdatedInOverviewRuler"
            overviewRulerPreferenceValue="true"
            presentationLayer="0"
            textPreferenceKey="commandOutdatedIndication"
            textPreferenceValue="false"
            textStylePreferenceKey="commandOutdatedTextStyle"
            textStylePreferenceValue="NONE"
            verticalRulerPreferenceKey="commandOutdatedInVerticalRuler"
            verticalRulerPreferenceValue="false">
      </specification>
      <specification
            annotationType="isabelle.eclipse.editor.commandStatus.unfinished"
            colorPreferenceKey="commandUnfinishedColor"
            colorPreferenceValue="255,228,225"
            highlightPreferenceKey="commandUnfinishedHighlighting"
            highlightPreferenceValue="true"
            includeOnPreferencePage="true"
            label="Isabelle Unfinished Command"
            overviewRulerPreferenceKey="commandUnfinishedInOverviewRuler"
            overviewRulerPreferenceValue="true"
            presentationLayer="0"
            textPreferenceKey="commandUnfinishedIndication"
            textPreferenceValue="false"
            textStylePreferenceKey="commandUnfinishedTextStyle"
            textStylePreferenceValue="NONE"
            verticalRulerPreferenceKey="commandUnfinishedInVerticalRuler"
            verticalRulerPreferenceValue="false">
      </specification>
      <specification
            annotationType="isabelle.eclipse.editor.commandStatus.unprocessed"
            colorPreferenceKey="commandUnprocessedColor"
            colorPreferenceValue="255,228,225"
            highlightPreferenceKey="commandUnprocessedHighlighting"
            highlightPreferenceValue="true"
            includeOnPreferencePage="true"
            label="Isabelle Unprocessed Command"
            overviewRulerPreferenceKey="commandUnprocessedInOverviewRuler"
            overviewRulerPreferenceValue="true"
            presentationLayer="0"
            textPreferenceKey="commandUnprocessedIndication"
            textPreferenceValue="false"
            textStylePreferenceKey="commandUnprocessedTextStyle"
            textStylePreferenceValue="NONE"
            verticalRulerPreferenceKey="commandUnprocessedInVerticalRuler"
            verticalRulerPreferenceValue="false">
      </specification>
      <specification
            annotationType="isabelle.eclipse.editor.commandStatus.failed"
            colorPreferenceKey="commandFailedColor"
            colorPreferenceValue="255,204,204"
            highlightPreferenceKey="commandFailedHighlighting"
            highlightPreferenceValue="true"
            includeOnPreferencePage="true"
            label="Isabelle Failed Command"
            overviewRulerPreferenceKey="commandFailedInOverviewRuler"
            overviewRulerPreferenceValue="true"
            presentationLayer="1"
            textPreferenceKey="commandFailedIndication"
            textPreferenceValue="false"
            textStylePreferenceKey="commandFailedTextStyle"
            textStylePreferenceValue="NONE"
            verticalRulerPreferenceKey="commandFailedInVerticalRuler"
            verticalRulerPreferenceValue="false">
      </specification>
      <specification
            annotationType="isabelle.eclipse.editor.commandStatus.finished"
            colorPreferenceKey="commandFinishedColor"
            colorPreferenceValue="239,247,248"
            highlightPreferenceKey="commandFinishedHighlighting"
            highlightPreferenceValue="true"
            includeOnPreferencePage="true"
            label="Isabelle Finished Command"
            overviewRulerPreferenceKey="commandFinishedInOverviewRuler"
            overviewRulerPreferenceValue="true"
            presentationLayer="0"
            textPreferenceKey="commandFinishedIndication"
            textPreferenceValue="false"
            textStylePreferenceKey="commandFinishedTextStyle"
            textStylePreferenceValue="NONE"
            verticalRulerPreferenceKey="commandFinishedInVerticalRuler"
            verticalRulerPreferenceValue="false">
      </specification>
   </extension>
   <extension
         point="org.eclipse.ui.editors.annotationTypes">
      <type
            name="isabelle.eclipse.editor.legacy"
            markerType="isabelle.eclipse.markerLegacy"
            markerSeverity="1">
      </type>
      <type
            name="isabelle.eclipse.editor.markup.bad">
      </type>
      <type
            name="isabelle.eclipse.editor.markup.hilite">
      </type>
      <type
            name="isabelle.eclipse.editor.markup.token">
      </type>
      <type
            name="isabelle.eclipse.editor.commandStatus.outdated">
      </type>
      <type
            name="isabelle.eclipse.editor.commandStatus.unfinished">
      </type>
      <type
            name="isabelle.eclipse.editor.commandStatus.unprocessed">
      </type>
      <type
            name="isabelle.eclipse.editor.commandStatus.failed">
      </type>
      <type
            name="isabelle.eclipse.editor.commandStatus.finished">
      </type>
      <type
            markerSeverity="0"
            markerType="isabelle.eclipse.markerInfo"
            name="isabelle.eclipse.editor.markup.info"
            super="org.eclipse.ui.workbench.texteditor.info">
      </type>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <command
            categoryId="isabelle.eclipse.editor.theory"
            description="Move Prover To Selected Theory Line"
            id="isabelle.eclipse.editor.submitToPoint"
            name="Go To Point">
      </command>
      <category
            id="isabelle.eclipse.editor.theory"
            name="Isabelle Theory">
      </category>
   </extension>
   <extension
         point="org.eclipse.ui.handlers">
      <handler
            class="isabelle.eclipse.actions.SubmitToPointCommand"
            commandId="isabelle.eclipse.editor.submitToPoint">
         <activeWhen>
            <with
                  variable="activePartId">
               <equals
                     value="isabelle.eclipse.editors.TheoryEditor">
               </equals>
            </with>
         </activeWhen>
      </handler>
      <handler
            class="isabelle.eclipse.actions.OutputViewSelectAllHandler"
            commandId="org.eclipse.ui.edit.selectAll">
         <activeWhen>
            <with
                  variable="activePartId">
               <equals
                     value="isabelle.eclipse.proverOutputView">
               </equals>
            </with>
         </activeWhen>
      </handler>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            allPopups="false"
            locationURI="toolbar:org.eclipse.ui.main.toolbar">
         <toolbar
               id="isabelle.eclipse.editor.toolbar">
            <command
                  commandId="isabelle.eclipse.editor.submitToPoint"
                  icon="icons/isabelle.png"
                  label="Go To Point"
                  style="push">
            </command>
         </toolbar>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.ui.bindings">
      <key
            commandId="isabelle.eclipse.editor.submitToPoint"
            contextId="isabelle.eclipse.editor.theoryEditorScope"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="Shift+M1+Enter">
      </key>
   </extension>
   <extension
         point="org.eclipse.ui.contexts">
      <context
            description="Editing Isabelle Theory Files"
            id="isabelle.eclipse.editor.theoryEditorScope"
            name="Editing Isabelle Theory"
            parentId="org.eclipse.ui.textEditorScope">
      </context>
   </extension>

</plugin>
